{% extends "base.html" %}

{% block content %}
<section class="intro">
    <h1>Scanning the IPv6 Internet using Subnet-Router Anycast Probing</h1>
    <p>
        We propose a commonly unused method to probe the IPv6 address space. Instead of random probing, we probe the Subnet-Router anycast address of a subnet.
        Subnet-Router anycast addresses are defined in <a href="https://doi.org/10.17487/RFC1884">RFC 1884</a>.
        By probing the SRA address of a subnet, we significantly lower the impact of ICMP error message rate limiting, as probing these addresses can trigger ICMP Echo replies.
        This webpage presents our most recent results from our regular scans.
        We provide a list of the found router IPv6 addresses as well as information on current routing loop deployment and ICMP time exceeded amplification in IPv6.
    </p>
</section>

<section class="tiles">
    <div class="tile-row tile-row">
        <div class="tile metric-tile metric-hitlist">
            <div class="metric-hitlist-info">
                <h2 class="metric-value" data-target="{{ metrics.router_ips }}">{{ metrics.router_ips|si }}</h2>
                <p>Observed Router IPv6 Addresses with Subnet-Router Anycast Probing</p>
                <h2 class="metric-value" data-target="{{ metrics.total_asn }}">{{ metrics.total_asn|si }}</h2>
                <p>Autonomous Systems covered by the found Router IPv6 Addresses</p>
                <h3 data-target="{{ metrics.last_scan }}">Last scan: {{ metrics.last_scan }}</h3>
            </div>
            <div class="hitlist-action-group">
                <a class="hitlist-download" href="{{ url_for('static', filename='data/router-hitlist.csv.zst') }}" download>
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M12 3v11m0 0l-4-4m4 4l4-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M5 15v4h14v-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    SRA Router IP Addresses
                </a>
            </div>
        </div>
    </div>

    <div class="tile-row tile-row">
        <h2>Comparison with other IPv6 Address Sources</h2>
    </div>

    <div class="tile-row tile-row-three">
        <div class="tile overlap-tile">
            <h2>TU Munich Hitlist</h2>
            <h3 class="subtitle-left-aligned">IPv6 Addresses</h3>
            <hr class="hr-long">
            <div class="overlap-metric-row">
                <div class="overlap-subtile overlap-subtile-overlap">
                    <h3>Total</h3>
                    <div class="hitlist-total metric-value" data-target="{{ metrics.total_hitlist }}">{{ metrics.total_hitlist|si }}</div>
                </div>
                <div class="overlap-subtile overlap-subtile-overlap">
                    <h3>Overlap with SRA</h3>
                    <div class="overlap-circle">
                        <svg viewBox="0 0 120 120">
                            <circle class="overlap-bg" cx="60" cy="60" r="52"></circle>
                            <circle class="overlap-progress" cx="60" cy="60" r="52" data-percentage="{{ metrics.overlap_hitlist_percentage }}"></circle>
                            <text x="62" y="58" text-anchor="middle">
                                <tspan class="overlap-percentage metric-value metric-percentage" data-target="{{ metrics.overlap_hitlist_percentage }}">{{ '{:.2f}%'.format(metrics.overlap_hitlist_percentage) }}</tspan>
                                <tspan x="60" dy="26" class="overlap-value metric-value" data-target="{{ metrics.overlap_hitlist_absolute }}">{{ metrics.overlap_hitlist_absolute|si }}</tspan>
                            </text>
                        </svg>
                    </div>
                </div>
            </div>
            <h3 class="subtitle-left-aligned">Autonomous Systems</h3>
            <hr class="hr-long">
            <div class="overlap-metric-row">
                <div class="overlap-subtile overlap-subtile-overlap">
                    <h3>Total</h3>
                    <div class="hitlist-total metric-value" data-target="{{ metrics.total_asn_hitlist }}">{{ metrics.total_asn_hitlist|si }}</div>
                </div>
                <div class="overlap-subtile overlap-subtile-overlap">
                    <h3>Overlap with SRA</h3>
                    <div class="overlap-circle">
                        <svg viewBox="0 0 120 120">
                            <circle class="overlap-bg" cx="60" cy="60" r="52"></circle>
                            <circle class="overlap-progress" cx="60" cy="60" r="52" data-percentage="{{ metrics.overlap_asn_hitlist_percentage }}"></circle>
                            <text x="62" y="58" text-anchor="middle">
                                <tspan class="overlap-percentage metric-value metric-percentage" data-target="{{ metrics.overlap_asn_hitlist_percentage }}">{{ '{:.2f}%'.format(metrics.overlap_asn_hitlist_percentage) }}</tspan>
                                <tspan x="60" dy="26" class="overlap-value metric-value" data-target="{{ metrics.overlap_asn_hitlist_absolute }}">{{ metrics.overlap_asn_hitlist_absolute|si }}</tspan>
                            </text>
                        </svg>
                    </div>
                </div>
            </div>
            <hr class="hr-long-topmargin">
            <div class="hitlist-action-group">
                <a class="hitlist-download" href="https://ipv6hitlist.github.io" target="_blank">
                    TU Munich Hitlist Data
                </a>
            </div>
        </div>

        <div class="tile overlap-tile">
            <h2>CAIDA ITDK</h2>
            <h3 class="subtitle-left-aligned">IPv6 Addresses</h3>
            <hr class="hr-long">
            <div class="overlap-metric-row">
                <div class="overlap-subtile overlap-subtile-overlap">
                    <h3>Total</h3>
                    <div class="hitlist-total metric-value" data-target="{{ metrics.total_itdk }}">{{ metrics.total_itdk|si }}</div>
                </div>
                <div class="overlap-subtile overlap-subtile-overlap">
                    <h3>Overlap with SRA</h3>
                    <div class="overlap-circle">
                        <svg viewBox="0 0 120 120">
                            <circle class="overlap-bg" cx="60" cy="60" r="52"></circle>
                            <circle class="overlap-progress" cx="60" cy="60" r="52" data-percentage="{{ metrics.overlap_itdk_percentage }}"></circle>
                            <text x="62" y="58" text-anchor="middle">
                                <tspan class="overlap-percentage metric-value metric-percentage" data-target="{{ metrics.overlap_itdk_percentage }}">{{ '{:.2f}%'.format(metrics.overlap_itdk_percentage) }}</tspan>
                                <tspan x="60" dy="26" class="overlap-value metric-value" data-target="{{ metrics.overlap_itdk_absolute }}">{{ metrics.overlap_itdk_absolute|si }}</tspan>
                            </text>
                        </svg>
                    </div>
                </div>
            </div>
            <h3 class="subtitle-left-aligned">Autonomous Systems</h3>
            <hr class="hr-long">
            <div class="overlap-metric-row">
                <div class="overlap-subtile overlap-subtile-overlap">
                    <h3>Total</h3>
                    <div class="hitlist-total metric-value" data-target="{{ metrics.total_asn_itdk }}">{{ metrics.total_asn_itdk|si }}</div>
                </div>
                <div class="overlap-subtile overlap-subtile-overlap">
                    <h3>Overlap with SRA</h3>
                    <div class="overlap-circle">
                        <svg viewBox="0 0 120 120">
                            <circle class="overlap-bg" cx="60" cy="60" r="52"></circle>
                            <circle class="overlap-progress" cx="60" cy="60" r="52" data-percentage="{{ metrics.overlap_asn_itdk_percentage }}"></circle>
                            <text x="62" y="58" text-anchor="middle">
                                <tspan class="overlap-percentage metric-value metric-percentage" data-target="{{ metrics.overlap_asn_itdk_percentage }}">{{ '{:.2f}%'.format(metrics.overlap_asn_itdk_percentage) }}</tspan>
                                <tspan x="60" dy="26" class="overlap-value metric-value" data-target="{{ metrics.overlap_asn_itdk_absolute }}">{{ metrics.overlap_asn_itdk_absolute|si }}</tspan>
                            </text>
                        </svg>
                    </div>
                </div>
            </div>
            <hr class="hr-long-topmargin">
            <div class="hitlist-action-group">
                <a class="hitlist-download" href="https://www.caida.org/catalog/datasets/ipv6_allpref_topology_dataset/" target="_blank">
                    CAIDA ITDK Dataset
                </a>
            </div>
        </div>

        <div class="tile overlap-tile">
            <h2>RIPE Atlas</h2>
            <h3 class="subtitle-left-aligned">IPv6 Addresses</h3>
            <hr class="hr-long">
            <div class="overlap-metric-row">
                <div class="overlap-subtile overlap-subtile-overlap">
                    <h3>Total</h3>
                    <div class="hitlist-total metric-value" data-target="{{ metrics.total_ripe }}">{{ metrics.total_ripe|si }}</div>
                </div>
                <div class="overlap-subtile overlap-subtile-overlap">
                    <h3>Overlap with SRA</h3>
                    <div class="overlap-circle">
                        <svg viewBox="0 0 120 120">
                            <circle class="overlap-bg" cx="60" cy="60" r="52"></circle>
                            <circle class="overlap-progress" cx="60" cy="60" r="52" data-percentage="{{ metrics.overlap_ripe_percentage }}"></circle>
                            <text x="62" y="58" text-anchor="middle">
                                <tspan class="overlap-percentage metric-value metric-percentage" data-target="{{ metrics.overlap_ripe_percentage }}">{{ '{:.2f}%'.format(metrics.overlap_ripe_percentage) }}</tspan>
                                <tspan x="60" dy="26" class="overlap-value metric-value" data-target="{{ metrics.overlap_ripe_absolute }}">{{ metrics.overlap_ripe_absolute|si }}</tspan>
                            </text>
                        </svg>
                    </div>
                </div>
            </div>
            <h3 class="subtitle-left-aligned">Autonomous Systems</h3>
            <hr class="hr-long">
            <div class="overlap-metric-row">
                <div class="overlap-subtile overlap-subtile-overlap">
                    <h3>Total</h3>
                    <div class="hitlist-total metric-value" data-target="{{ metrics.total_asn_ripe }}">{{ metrics.total_asn_ripe|si }}</div>
                </div>
                <div class="overlap-subtile overlap-subtile-overlap">
                    <h3>Overlap with SRA</h3>
                    <div class="overlap-circle">
                        <svg viewBox="0 0 120 120">
                            <circle class="overlap-bg" cx="60" cy="60" r="52"></circle>
                            <circle class="overlap-progress" cx="60" cy="60" r="52" data-percentage="{{ metrics.overlap_asn_ripe_percentage }}"></circle>
                            <text x="62" y="58" text-anchor="middle">
                                <tspan class="overlap-percentage metric-value metric-percentage" data-target="{{ metrics.overlap_asn_ripe_percentage }}">{{ '{:.2f}%'.format(metrics.overlap_asn_ripe_percentage) }}</tspan>
                                <tspan x="60" dy="26" class="overlap-value metric-value" data-target="{{ metrics.overlap_asn_ripe_absolute }}">{{ metrics.overlap_asn_ripe_absolute|si }}</tspan>
                            </text>
                        </svg>
                    </div>
                </div>
            </div>
            <hr class="hr-long-topmargin">
            <div class="hitlist-action-group">
                <a class="hitlist-download" href="https://labs.ripe.net/author/emileaben/latency-into-your-network-as-seen-from-ripe-atlas/" target="_blank">
                    RIPE Atlas Traceroutes
                </a>
            </div>
        </div>
    </div>

    <div class="tile-row tile-row">
        <h2>Results of Subnet-Router Anycast Scans</h2>
    </div>

    <div class="tile-row tile-row">
        <div class="artifact-tile artifact-tile-horizontal">
            <div class="artifact-icon" aria-hidden="true">
                <img src="{{ url_for('static', filename='img/red-signal-light.svg') }}" alt="">
            </div>
            <div class="artifact-content">
                <h2 class="heading-centered">We analyze known issues in IPv6: Routing loops and amplification.</h2>
                <div class="hitlist-action-group">
                    <a class="hitlist-download" href="{{ url_for('routingloops') }}">
                        Explore
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="tile tile-plot-full">
        <h2>Overview of Measurements</h2>
    </div>

    <div class="tile tile-plot-full">
        <h2>World Map of IPv6 Router IP Addresses found with SRA Probing</h2>
        <iframe
            class="plot-embed"
            src="{{ url_for('static', filename='data/figures/worldmap-sra-ips.html') }}"
            title="World map of SRA IPv6 addresses"
            loading="lazy"
            height="520"
        ></iframe>
    </div>
    <div class="tile tile-plot-full">
        <h2>Comparison of Network Types across multiple IPv6 Address Data Sources</h2>
        <img src="{{ url_for('static', filename='data/figures/heatmap-network-types-all-sources.png') }}" alt="World map of SRA IPv6 addresses">
    </div>
    <div class="tile tile-reference">
        <h2>If you use our data, please use the following reference:</h2>
        {% for ref in references %}
        <div class="reference-entry">
            <pre><code>{{ ref }}</code></pre>
            <button class="copy-reference">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M8 7V5a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2h-2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <rect x="3" y="7" width="13" height="14" rx="2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Copy
            </button>
        </div>
        {% else %}
        <p>No references available.</p>
        {% endfor %}
    </div>

    <div class="tile-row tile-row">
        <div class="tile logo-tile">
            <div class="logo-grid">
                <img src="{{ url_for('static', filename='img/TUD_Logo_RGB_horizontal_blau_en.svg') }}" alt="TU Dresden logo">
                <img src="{{ url_for('static', filename='img/HAW_Marke_RGB_300dpi.png') }}" alt="HAW Hamburg logo">
                <img src="{{ url_for('static', filename='img/BMFTR_en_DTP_CMYK_gef_durch.png') }}" alt="BMFTR funded by logo">
            </div>
        </div>
    </div>
</section>

<script src="{{ url_for('static', filename='js/charts.js') }}"></script>
{% endblock %}
